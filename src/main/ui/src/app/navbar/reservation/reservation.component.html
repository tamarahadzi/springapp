<div class="container">
  <div class="row">
    <div class="col">
      <h3>Reservation</h3>
    </div>
  </div>
  <div class="card shadow p-3 mb-5 bg-white rounded">
    <div class="card-body">
      <div class="row">
        <div class="col">
          <label for="calendar">Choose pick up and drop off date</label>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <ngb-datepicker #dp (dateSelect)="onDateSelection($event)" [displayMonths]="2" [dayTemplate]="t" outsideDays="hidden" id="calendar">
          </ngb-datepicker>

          <ng-template #t let-date let-focused="focused">
          <span class="custom-day"
                [class.focused]="focused"
                [class.range]="isRange(date)"
                [class.faded]="isHovered(date) || isInside(date)"
                (mouseenter)="hoveredDate = date"
                (mouseleave)="hoveredDate = null;">
            {{ date.day }}
          </span>
          </ng-template>
        </div>
      </div>
      <div class="row mt-4" *ngIf="areCars">
        <div class="col">
          <h4>Available cars</h4>
        </div>
      </div>
      <div class="row" *ngIf="areCars">
        <div class="col">
          <table class="table table-hover">
            <thead>
            <tr>
              <th>Brand</th>
              <th>Model</th>
              <th>Gearbox</th>
              <th>Air condition</th>
              <th>Year</th>
              <th>Price per day</th>
              <th></th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let car of cars; index as i">
              <td class="align-middle">{{car.brand}}</td>
              <td class="align-middle">{{car.model}}</td>
              <td class="align-middle">{{car.gearbox}}</td>
              <td class="align-middle">{{car.airCondition}}</td>
              <td class="align-middle">{{car.year}}</td>
              <td class="align-middle">{{car.pricePerDay}}</td>
              <td>
                <button type="button" class="btn btn-primary" (click)="showReserveCarModal(car.id, reserveCarModal)">Reserve</button>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #reserveCarModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Car reservation</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>...</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.close('Close click')">Close</button>
    <button type="button" class="btn btn-primary" (click)="reserveCar()">Reserve</button>
  </div>
</ng-template>
